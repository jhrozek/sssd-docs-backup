<html><head><link rel="stylesheet" href="/sssd-test2/trac.css" type="text/css" /><link rel="stylesheet" href="/sssd-test2/wiki.css" type="text/css" /></head><body><h1 id="D-BusInterface:CachedObjects">D-Bus Interface: Cached Objects</h1>
<p>
Related ticket(s):
</p>
<ul><li><a class="ext-link" href="https://fedorahosted.org/sssd/ticket/2338"><span class="icon">​</span>https://fedorahosted.org/sssd/ticket/2338</a>
</li></ul><p>
Related design page(s):
</p>
<ul><li><a class="ext-link" href="https://docs.pagure.org/sssd-test2/DesignDocs/DBusResponder.html"><span class="icon">​</span>https://fedorahosted.org/sssd/wiki/DesignDocs/DBusResponder</a>
</li></ul><h3 id="Problemstatement">Problem statement</h3>
<p>
This design document describes how objects can be marked as cached.
</p>
<h3 id="Usecases">Use cases</h3>
<ul><li>Allow tools like graphical user management to display a list of users who recently logged in.
</li></ul><h2 id="D-BusInterface">D-Bus Interface</h2>
<h3 id="org.freedesktop.sssd.infopipe.Cache">org.freedesktop.sssd.infopipe.Cache</h3>
<h4 id="Objectpathsimplementingthisinterface">Object paths implementing this interface</h4>
<ul><li>/org/freedesktop/sssd/infopipe/Users
</li><li>/org/freedesktop/sssd/infopipe/Groups
</li></ul><h4 id="Methods">Methods</h4>
<ul><li>ao List()
</li><li>ao ListByDomain(s:domain_name)
<ul><li>Returns list of objects that contains <em>cached</em> attribute.
</li></ul></li></ul><h4 id="Signals">Signals</h4>
<p>
None.
</p>
<h4 id="Properties">Properties</h4>
<p>
None.
</p>
<h3 id="org.freedesktop.sssd.infopipe.Cache.Object">org.freedesktop.sssd.infopipe.Cache.Object</h3>
<h4 id="Objectpathsimplementingthisinterface1">Object paths implementing this interface</h4>
<ul><li>/org/freedesktop/sssd/infopipe/Users/*
</li><li>/org/freedesktop/sssd/infopipe/Groups/*
</li></ul><h4 id="Methods1">Methods</h4>
<ul><li>b Store()
</li><li>b Remove()
<ul><li>Those methods will add/remove <em>cached</em> attributed to the object under <em>path</em> implementing this interface.
</li></ul></li></ul><h4 id="Signals1">Signals</h4>
<p>
None.
</p>
<h4 id="Properties1">Properties</h4>
<p>
None.
</p>
<h3 id="Overviewofthesolution">Overview of the solution</h3>
<p>
New sysdb attribute <em>ifp_cached</em> is created for users and groups objects. If this attribute is present, the object is considered to be cached on IFP D-Bus. The introspection of an object path <em>/obj/path</em> will report all cached objects in the subtree <em>/obj/path/*</em>.
</p>
<h3 id="HowToTest">How To Test</h3>
<p>
Call the D-Bus methods and properties. For example with <strong>dbus-send</strong> tool. A cached object is supposed to appear in introspection.
</p>
<h3 id="Authors">Authors</h3>
<ul><li>Jakub Hrozek &lt;<a class="mail-link" href="mailto:jhrozek@redhat.com"><span class="icon">​</span>jhrozek@redhat.com</a>&gt;
</li><li>Pavel Březina &lt;<a class="mail-link" href="mailto:pbrezina@redhat.com"><span class="icon">​</span>pbrezina@redhat.com</a>&gt;
</li></ul></body></html>