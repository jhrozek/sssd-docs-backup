<html><head><link rel="stylesheet" href="/sssd-test2/trac.css" type="text/css" /><link rel="stylesheet" href="/sssd-test2/wiki.css" type="text/css" /></head><body><p>
</p><div class="wiki-toc">
<ol>
  <li>
    <a href="#HowtofileausefulSSSDbugreport">How to file a useful SSSD bug report</a>
    <ol>
      <li>
        <a href="#Wheretofilethebugs">Where to file the bugs?</a>
      </li>
      <li>
        <a href="#Helpusreproducethebug">Help us reproduce the bug</a>
      </li>
      <li>
        <a href="#Includenecessarydebuggingdata">Include necessary debugging data</a>
        <ol>
          <li>
            <a href="#ProvidingSSSDcrashdata">Providing SSSD crash data</a>
          </li>
          <li>
            <a href="#Mindyourprivacy">Mind your privacy</a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#Alwaystestthelatestavailableversion">Always test the latest available version</a>
      </li>
      <li>
        <a href="#Considerifthebughassecurityconsequences">Consider if the bug has security consequences</a>
      </li>
    </ol>
  </li>
</ol>
</div><p>
</p>
<h1 id="HowtofileausefulSSSDbugreport">How to file a useful SSSD bug report</h1>
<p>
Unfortunately, SSSD is not perfect and sometimes, you might encounter a bug. This document describes how to file an SSSD bug report or an enhancement request. Providing accurate and well formed information might help us find the bug and ultimately fix it. As a bug reporter, you should work with us on pinpointing the bug - we should then work with you on fixing the bug.
</p>
<h2 id="Wheretofilethebugs">Where to file the bugs?</h2>
<p>
You'll need a <a class="ext-link" href="https://admin.fedoraproject.org/accounts/"><span class="icon">​</span>Fedora Account System</a> login to file a bug. When you have one, navigate to <a class="ext-link" href="https://fedorahosted.org/sssd/newticket"><span class="icon">​</span>the new ticket form</a>.
</p>
<p>
Some bugs will be automatically cloned from distribution bug-trackers, such as ​<a class="ext-link" href="http://bugzilla.redhat.com"><span class="icon">​</span>http://bugzilla.redhat.com</a>. People working with upstream code should file bugs directly in Trac. 
</p>
<h2 id="Helpusreproducethebug">Help us reproduce the bug</h2>
<p>
The easier for us is to see the flaw in our environment, the easier it is to fix the bug. If we can't conclusively see the bug exist, it might even be closed as NOTABUG. If the bug can't be reproduced easily, describe your environment in detail and allow us more time to analyze your problem.
</p>
<h2 id="Includenecessarydebuggingdata">Include necessary debugging data</h2>
<p>
For both bug reports and feature requests, select the type of the ticket to indicate if it's a bug report or an enhancement.
</p>
<p>
Always include the following data in a bug report:
</p>
<ul><li>One bug report per ticket. If you think you found multiple problems, file each one in a separate ticket
</li><li>Search the ticket database for possible duplicates. If you find a duplicate, please add a comment saying that you encountered the problem as well.
</li><li>Is this a defect or an enhancement? (Tasks should be reserved for internal development tasks, such as creating unit tests.)
</li><li>Short summary. Good example is: "The LDAP provider segfaults when an invalid TLS certificate is specified".
</li><li>Component. Please select the SSSD component most accurate for your issue. This will ensure that the default assignee is set correctly.
</li><li>CC (optional). If there are other parties interested in a particular bug, please include their Fedora usernames here.
</li><li>What platform are you on? Please provide operating system version and architecture.
</li><li>The SSSD version. On an RPM-based system, you can just run <tt>rpm -q sssd</tt>. (If the bug is in the current working tree, select the most recent released version.)
</li><li>The SSSD config file. Typically this would be located at <tt>/etc/sssd/sssd.conf</tt>
</li><li>The SSSD log files with a high debug level Please see the <a class="wiki" href="https://docs.pagure.org/sssd-test2/Troubleshooting.html">troubleshooting page</a> on information on how to gather them and other
required information. When submitting the logs, it's very helpful to
remove the existing log files before running the test case. This ensures the
logs only capture the problem and developers don't need to weed out
gigabytes of info.
</li><li>The steps to reproduce the bug. It's very useful to log the times of
the commands that reproduce the bug as you execute them. For instance, if two <tt>id</tt> commands run
in sequence would give different information for the admin user, please run them like this:
<pre class="wiki">    $ date; id admin; date; id admin; date
</pre>This would help us cross-link your actions with the log files.
</li><li>Describe your network topology and the server types and versions. This is especially important in complex setups with trusted IPA or Active Directory domains.
</li><li>What are the results you expect? What were the results you see instead? Please be specific. A bad example is "My logins are slow". A much better example is "When a user who is a member of 100 groups logs in, his login takes 50 seconds even though a <tt>kinit</tt> and <tt>id -G</tt> for the same user are fast."
</li></ul><p>
Some data in the SSSD tickets are handled by the SSSD team members. Please leave Priority, Milestone, Keywords and Assignee to their defaults.
</p>
<h3 id="ProvidingSSSDcrashdata">Providing SSSD crash data</h3>
<p>
In addition to the data described above, please also provide the coredump and backtrace along with the bug report. 
</p>
<p>
If you are on a Fedora or RHEL system, abrt is a great tool for gathering crash info. If abrt is not available, you can retrieve the core file and backtrace manually. First, find out which sssd process is crashing. Please always make sure you have the exact matching debuginfo package version on your system. On Fedora and RHEL, you can easily install the debuginfo packages with <tt>debuginfo-install sssd</tt>. Then, connect to the faulty process with gdb and resume it:
</p>
<pre class="wiki">    # gdb program $(pidof sssd_be)
    (gdb) continue
</pre><p>
When the program crashes, save the core file and backtrace:
</p>
<pre class="wiki">    (gdb) generate-core-file
    Saved corefile core.7336
    (gdb) bt full
    # lots of output, copy and paste to the bug report
</pre><p>
Then attach the core file and the backtrace.
</p>
<h3 id="Mindyourprivacy">Mind your privacy</h3>
<p>
Both the SSSD log files and the coredumps might include confidential information. If you don't like them to be exposed in the SSSD Trac instance, please contact some of the SSSD developers on the <tt>#sssd</tt> channel on FreeNode or on the <a class="ext-link" href="https://lists.fedorahosted.org/mailman/listinfo/sssd-users"><span class="icon">​</span>sssd-users</a> mailing list.
</p>
<h2 id="Alwaystestthelatestavailableversion">Always test the latest available version</h2>
<p>
SSSD moves at a rapid pace. It's not useful to file a bug report against an old version, please upgrade to the latest release in the branch you're running, if the branch is still active. You can find the tarballs on our <a class="wiki" href="https://docs.pagure.org/sssd-test2/Releases.html">releases page</a>. If you're running an Enterprise or Long-Term-Maintenance distribution and can't update to a newer version, consider filing a bug report in your distribution bug tracker instead.
</p>
<p>
Alternatively, ask on the <tt>#sssd</tt> channel on FreeNode. Several SSSD or FreeIPA developers maintain private repositories with custom builds for stable platforms.
</p>
<h2 id="Considerifthebughassecurityconsequences">Consider if the bug has security consequences</h2>
<p>
If you think you found a bug that has security impact (allows an unprivileged user to take down SSSD or elevate privileges for instance), <strong>don't</strong> file the bug in a public bug tracker. Instead, e-mail any of the SSSD developers instead.
</p>
</body></html>