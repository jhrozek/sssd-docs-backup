<html><head><link rel="stylesheet" href="/sssd-test2/trac.css" type="text/css" /><link rel="stylesheet" href="/sssd-test2/wiki.css" type="text/css" /></head><body><ol><li>Follow the steps in <a class="wiki" href="https://docs.pagure.org/sssd-test2/Fedora_11_Test_Day/Installation.html">Installing the SSSD</a>.
</li><li>As root, open the file <tt>/etc/sssd/sssd.conf</tt>. In the <tt>[domains/LDAP]</tt> section, change:
<pre class="wiki">enumerate = 0
</pre>to
<pre class="wiki">enumerate = 3
</pre>and save the file
</li><li>Test enumeration of LDAP users
<pre class="wiki">getent -s sss passwd
</pre>You should see 100 users named sssdtestNNNNN, as well as a few others:
<pre class="wiki">sssd-test:x:11004:11004:SSSD 1 test user:/home/sssd-test:/bin/bash
sssd.test:x:11001:11001:SSSD 1 test user:/home/sssd.test:/bin/bash
sssd:test:x:11003:11003:SSSD 1 test user:/home/sssd:test:/bin/bash
sssd@test:x:11002:11002:SSSD 1 test user:/home/sssd@test:/bin/bash
sssd_test:x:11005:11005:SSSD 1 test user:/home/sssd_test:/bin/bash
</pre></li><li>Test retrieval of individual users, specifying the domain
<pre class="wiki">getent passwd sssdtest10001@LDAP
</pre>This should return:
<pre class="wiki">sssdtest10001:x:10001:10001:SSSD 1 test user:/home/sssdtest10001:/bin/bash
</pre></li><li>Repeat the above test with the users listed in step<a class="closed ticket" href="https://fedorahosted.org/sssd/ticket/3" title="task: Fake ticket to verify CC-list (closed: invalid)">#3</a>. It is expected that <tt>sssd@test</tt> will fail.
</li><li>Test retrieval of individual users, without specifying the domain
<pre class="wiki">getent passwd sssdtest10002
</pre>This should return:
<pre class="wiki">sssdtest10002:x:10002:10002:SSSD 1 test user:/home/sssdtest10002:/bin/bash
</pre></li><li>Repeat the above test with the users listed in step2. It is expected that <tt>sssd@test</tt> will fail.
</li><li>Test enumeration of LDAP groups
<pre class="wiki">getent -s sss group
</pre>This should return a large number of groups of varying membership
</li><li>Test retrieval of a specific group, specifying the domain
<pre class="wiki">getent group sssdtestgroup10@LDAP
</pre>This should return one group with ten members (sssdtest10001 through sssdtest10010)
<pre class="wiki">sssdtestgroup10:x:11010:sssdtest10001,sssdtest10002,sssdtest10003,sssdtest10004,sssdtest10005,sssdtest10006,sssdtest10007,sssdtest10008,sssdtest10009,sssdtest10010
</pre></li><li>Test retrieval of a specific group, without specifying the domain
<pre class="wiki">getent group sssdtestgroup11
</pre>This should return one group with eleven members (sssdtest10001 through sssdtest10011)
<pre class="wiki">sssdtestgroup10:x:11010:sssdtest10001,sssdtest10002,sssdtest10003,sssdtest10004,sssdtest10005,sssdtest10006,sssdtest10007,sssdtest10008,sssdtest10009,sssdtest10010,sssdtest10011
</pre></li><li>Test that we do not truncate NSS data
<pre class="wiki">getent group sssdtestgroup100@LDAP
</pre>There will be a lot of output. Verify that it ends with <tt>sssdtest10100</tt>
</li><li>Test offline support by terminating your network connection (e.g. unplugging your network cable or turning off your WiFI card), then rerun the above tests and verify that they return the same results. To minimize delays while offline, consider the following settings for your /etc/ldap.conf: 
<pre class="wiki">timelimit 10
bind_timelimit 5
nss_reconnect_maxsleeptime 2
nss_reconnect_sleeptime 1
</pre></li></ol></body></html>