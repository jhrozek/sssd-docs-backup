<html><head><link rel="stylesheet" href="/sssd-test2/trac.css" type="text/css" /><link rel="stylesheet" href="/sssd-test2/wiki.css" type="text/css" /></head><body><p>
</p><div class="wiki-toc">
<ol>
  <li>
    <ol>
      <li>
        <a href="#Description">Description</a>
      </li>
      <li>
        <a href="#HowtoTest">How to Test</a>
      </li>
    </ol>
  </li>
</ol>
</div><p>
</p>
<h2 id="Description">Description</h2>
<p>
This test will verify whether the SSSD is appropriately serving legacy local users through NSS.
</p>
<h2 id="HowtoTest">How to Test</h2>
<ol><li>Follow the steps in <a class="wiki" href="https://docs.pagure.org/sssd-test2/Fedora_11_Test_Day/Installation.html">Installing the SSSD</a>. If you are running the Test Day LiveCD, you may skip this step.
</li><li>Restart the SSSD service (as root):
<pre class="wiki">service sssd restart
</pre></li><li>Verify that the SSSD services are running:
<pre class="wiki">ps -e |grep sss
</pre></li><li>Enable the use of the SSSD in nsswitch.conf. Change the following lines of /etc/nsswitch.conf from:
<pre class="wiki">passwd:     files
shadow:     files
group:      files
</pre>to
<pre class="wiki">passwd:     files sss
shadow:     files
group:      files sss
</pre></li><li>Verify that your local users are served to NSS from the SSSD (<tt>-s sss</tt> specifies that NSS should search only the sss provider)
<pre class="wiki">getent -s sss passwd
</pre>You should see all users from your /etc/passwd file whose UIDs are in the range 500-5000 (as specified in the sssd.conf)
</li><li>Request a specific user from the SSSD (pick one from the list returned in the previous step)
<pre class="wiki">getent passwd validlocaluser@LEGACYLOCAL
</pre>You should see something similar to the following output:
<pre class="wiki">validlocaluser:x:500:500:Local User:/home/validlocaluser:/bin/bash
</pre></li><li>Verify that your local groups are served to NSS from the SSSD
<pre class="wiki">getent -s sss group
</pre>You should see all groups fom your /etc/group file whose GIDs are in the range 500-5000 (as specified in the sssd.conf)
</li><li>Verify that you can request the information from a single valid group
<pre class="wiki">getent group validgroup@LEGACYLOCAL
</pre></li></ol></body></html>