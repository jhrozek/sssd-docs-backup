<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Highlights &#8212; sssd 1.15.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.15.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="highlights">
<h1>Highlights<a class="headerlink" href="#highlights" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>The IPA sudo provider was reimplemented. The new version reads the
data from IPA&#8217;s LDAP tree (as opposed to the compat tree populated by
the <code class="docutils literal"><span class="pre">slapi-nis</span></code> plugin that was used previously). The benefit is
that deployments which don&#8217;t require the compat tree for other
purposes, such as support for non-SSSD clients can disable those
autogenerated LDAP trees to conserve resources that slapi-nis
otherwise requires. There should be no visible changes to the end
user.</li>
<li>SSSD now has the ability to renew the machine credentials (keytabs)
when the <code class="docutils literal"><span class="pre">ad</span></code> provider is used. Please note that a recent version
of the <code class="docutils literal"><span class="pre">adcli</span></code> (0.8 or newer) package is required for this feature
to work.</li>
<li>The automatic ID mapping feature was improved so that the
administrator is no longer required to manually set the range size in
case a RID in the AD domain is larger than the default range size</li>
<li>A potential infinite loop in the NFS ID mapping plugin that was
resulting in an excessive memory usage was fixed</li>
<li>Clients that are pinned to a particular AD site using the <code class="docutils literal"><span class="pre">ad_site</span></code>
option no longer communicate with DCs outside that site during
service discovery.</li>
<li>The IPA identity provider is now able to resolve external (typically
coming from a trusted AD forest) group members during
get-group-information requests. Please note that resolving external
group memberships for AD users during the initgroup requests used to
work even prior to this update. This feature is mostly useful for
cases where an IPA client is using the compat tree to resolve AD
trust users.</li>
<li>The IPA ID views feature now works correctly even for deployments
without a trust relationship. Previously, the <code class="docutils literal"><span class="pre">subdomains</span></code> IPA
provider failed to read the views data if no master domain record was
created on the IPA server during trust establishment.</li>
<li>A race condition in the client libraries between the SSSD closing the
socket as idle and the client application using the socket was fixed.
This bug manifested with a <code class="docutils literal"><span class="pre">Broken</span> <span class="pre">Pipe</span></code> error message on the
client.</li>
<li>SSSD is now able to resolve users with the same usernames in
different OUs of an AD domain</li>
<li>The smartcard authentication now works properly with
<code class="docutils literal"><span class="pre">gnome-screensaver</span></code></li>
</ul>
</div>
<div class="section" id="packaging-changes">
<h1>Packaging Changes<a class="headerlink" href="#packaging-changes" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>The <code class="docutils literal"><span class="pre">krb5.include.d</span></code> directory is now owned by the <code class="docutils literal"><span class="pre">sssd</span></code> user
and packaged in the <code class="docutils literal"><span class="pre">krb5-common</span></code> subpackage</li>
</ul>
</div>
<div class="section" id="documentation-changes">
<h1>Documentation Changes<a class="headerlink" href="#documentation-changes" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>A new option <code class="docutils literal"><span class="pre">ldap_idmap_helper_table_size</span></code> was added. This option
can help tune allocation of new ID mapping slices for AD domains with
a high RID values. Most deployments can use the default value of this
option.</li>
<li>Several PAM services were added to the lists that are used to map
Windows logon services to Linux PAM services. The newly added PAM
services include login managers (<code class="docutils literal"><span class="pre">lightdm</span></code>, <code class="docutils literal"><span class="pre">lxdm</span></code>, <code class="docutils literal"><span class="pre">sddm</span></code> and
<code class="docutils literal"><span class="pre">xdm</span></code>) as well as the <code class="docutils literal"><span class="pre">cockpit</span></code> service.</li>
<li>The AD machine credentials renewal task can be fine-tuned using the
<code class="docutils literal"><span class="pre">ad_machine_account_password_renewal_opts</span></code> to change the initial
delay and period of the credentials renewal task. In addition, the
new <code class="docutils literal"><span class="pre">ad_maximum_machine_account_password_age</span></code> option allows the
administrator to select how old the machine credential must be before
trying to renew it.</li>
<li>The administrator can use the new option
<code class="docutils literal"><span class="pre">pam_account_locked_message</span></code> to set a custom informational message
when the account logging in is locked.</li>
</ul>
</div>
<div class="section" id="tickets-fixed">
<h1>Tickets Fixed<a class="headerlink" href="#tickets-fixed" title="Permalink to this headline">¶</a></h1>
<div><dl class="docutils">
<dt><a class="reference external" href="/sssd/ticket/1041">#1041</a></dt>
<dd>[RFE] Support Automatic Renewing of Kerberos Host Keytabs</dd>
<dt><a class="reference external" href="/sssd/ticket/1108">#1108</a></dt>
<dd>[RFE] SUDO: Support the IPA schema</dd>
<dt><a class="reference external" href="/sssd/ticket/2188">#2188</a></dt>
<dd>automatically assign new slices for any AD domain</dd>
<dt><a class="reference external" href="/sssd/ticket/2522">#2522</a></dt>
<dd>[RFE] IPA: resolve external group memberships of IPA groups during
getgrnam and getgrgid</dd>
<dt><a class="reference external" href="/sssd/ticket/2626">#2626</a></dt>
<dd>Retry EPIPE from clients</dd>
<dt><a class="reference external" href="/sssd/ticket/2764">#2764</a></dt>
<dd>the colondb intreface has no unit tests</dd>
<dt><a class="reference external" href="/sssd/ticket/2765">#2765</a></dt>
<dd>ad_site parameter does not work</dd>
<dt><a class="reference external" href="/sssd/ticket/2785">#2785</a></dt>
<dd>incompatibility between sparkleshare and sss_ssh_knownhostsproxy
due to setlocale()</dd>
<dt><a class="reference external" href="/sssd/ticket/2791">#2791</a></dt>
<dd>sssd dereference processing failed : Input/output error</dd>
<dt><a class="reference external" href="/sssd/ticket/2829">#2829</a></dt>
<dd>collapse_srv_lookups frees fo_server structure that is returned
by fail over API</dd>
<dt><a class="reference external" href="/sssd/ticket/2839">#2839</a></dt>
<dd>Allow SSSD to notify user of denial due to AD account lockout</dd>
<dt><a class="reference external" href="/sssd/ticket/2849">#2849</a></dt>
<dd>cache_req: don&#8217;t search override values in LDAP when using LOCAL
view</dd>
<dt><a class="reference external" href="/sssd/ticket/2865">#2865</a></dt>
<dd>sssd_nss memory usage keeps growing on sssd-1.12.4-47.el6.x86_64
(RHEL6.7) when trying to retrieve non-existing netgroups</dd>
<dt><a class="reference external" href="/sssd/ticket/2881">#2881</a></dt>
<dd>MAN: Clarify that subdomains always use service discovery</dd>
<dt><a class="reference external" href="/sssd/ticket/2888">#2888</a></dt>
<dd>SRV lookups with id_provider=proxy and auth_provider=krb5</dd>
<dt><a class="reference external" href="/sssd/ticket/2899">#2899</a></dt>
<dd>[sssd] Trusted (AD) user&#8217;s info stays in sssd cache for much more
than expected.</dd>
<dt><a class="reference external" href="/sssd/ticket/2902">#2902</a></dt>
<dd>Review and update wiki pages for 1.13.4</dd>
<dt><a class="reference external" href="/sssd/ticket/2904">#2904</a></dt>
<dd>sssd_be AD segfaults on missing A record</dd>
<dt><a class="reference external" href="/sssd/ticket/2906">#2906</a></dt>
<dd>Cannot retrieve users after upgrade from 1.12 to 1.13</dd>
<dt><a class="reference external" href="/sssd/ticket/2909">#2909</a></dt>
<dd>extreme memory usage in libnfsidmap sss.so plug-in when resolving
groups with many members</dd>
<dt><a class="reference external" href="/sssd/ticket/2910">#2910</a></dt>
<dd>sssd mixup nested group from AD trusted domains</dd>
<dt><a class="reference external" href="/sssd/ticket/2912">#2912</a></dt>
<dd>refresh_expired_interval stops sss_cache from working</dd>
<dt><a class="reference external" href="/sssd/ticket/2917">#2917</a></dt>
<dd>Properly remove OriginalMemberOf attribute in SSSD cache if user has
no secondary groups anymore</dd>
<dt><a class="reference external" href="/sssd/ticket/2922">#2922</a></dt>
<dd>ID mapping - bug in computing max id for slice range</dd>
<dt><a class="reference external" href="/sssd/ticket/2925">#2925</a></dt>
<dd>Add gnome-screensaver to the list of PAM services considered for
Smartcard authentication</dd>
<dt><a class="reference external" href="/sssd/ticket/2931">#2931</a></dt>
<dd>Warn if user cannot read krb5.conf</dd>
<dt><a class="reference external" href="/sssd/ticket/2934">#2934</a></dt>
<dd>After removing certificate from user in IPA and even after
sss_cache, FindByCertificate still finds the user</dd>
<dt><a class="reference external" href="/sssd/ticket/2937">#2937</a></dt>
<dd>sss_obfuscate: SyntaxError: Missing parentheses in call to &#8216;print&#8217;</dd>
<dt><a class="reference external" href="/sssd/ticket/2938">#2938</a></dt>
<dd>Cannot start sssd after switching to non-root</dd>
<dt><a class="reference external" href="/sssd/ticket/2959">#2959</a></dt>
<dd>The delete operation of the memberof plugin allocates memory on NULL
context</dd>
<dt><a class="reference external" href="/sssd/ticket/2960">#2960</a></dt>
<dd>IPA view: view name not stored properly with default FreeIPA
installation</dd>
<dt><a class="reference external" href="/sssd/ticket/2961">#2961</a></dt>
<dd>Initgroups in AD provider might fail if user is stored in a
non-default ou</dd>
<dt><a class="reference external" href="/sssd/ticket/2962">#2962</a></dt>
<dd>GPO: Access denied in non-root mode</dd>
<dt><a class="reference external" href="/sssd/ticket/2964">#2964</a></dt>
<dd>GPO: Access denied after blocking connection to AD.</dd>
<dt><a class="reference external" href="/sssd/ticket/2969">#2969</a></dt>
<dd>sudorule not working with ipa sudo_provider on older freeipa</dd>
<dt><a class="reference external" href="/sssd/ticket/2970">#2970</a></dt>
<dd>sudo smart refresh does not work correctly on openldap</dd>
<dt><a class="reference external" href="/sssd/ticket/2971">#2971</a></dt>
<dd>SSSD PAM module does not support multiple password prompts (e.g.
Password + Token) with sudo</dd>
<dt><a class="reference external" href="/sssd/ticket/2972">#2972</a></dt>
<dd>IPA sudo: support the externalUser attribute</dd>
<dt><a class="reference external" href="/sssd/ticket/2980">#2980</a></dt>
<dd>sssd_be[11010]: segfault at 0 ip 00007ff889ff61bb sp
00007ffc7d66a3b0 error 4 in libsss_ipa.so[7ff889fcf000+5d000]</dd>
<dt><a class="reference external" href="/sssd/ticket/2989">#2989</a></dt>
<dd>local overrides: issues with sub-domain users and mixed case names</dd>
</dl>
</div></div>
<div class="section" id="detailed-changelog">
<h1>Detailed Changelog<a class="headerlink" href="#detailed-changelog" title="Permalink to this headline">¶</a></h1>
<p>Dan Lavu (1):</p>
<ul class="simple">
<li>PAM: Fix man for pam_account_{expired,locked}_message</li>
</ul>
<p>David Disseldorp (1):</p>
<ul class="simple">
<li>build: detect endianness at configure time</li>
</ul>
<p>Jakub Hrozek (17):</p>
<ul class="simple">
<li>Upgrading the version for the 1.13.4 release</li>
<li>SDAP: Make it possible to silence errors from dereference</li>
<li>Add a new option ldap_group_external_member</li>
<li>IPA: Add interface to call into IPA provider from LDAP provider</li>
<li>LDAP: Use the IPA provider interface to resolve external group
members</li>
<li>FO: Don&#8217;t free rc-allocated structure</li>
<li>tests: Reduce failover code duplication</li>
<li>FO: Use refcount to keep track of servers returned to callers</li>
<li>FO: Use tevent_req_defer_callback() when notifying callers</li>
<li>memberof: Don&#8217;t allocate on a NULL context</li>
<li>tests: Add a unit test for the external groups resolution</li>
<li>MAN: Remove duplicate description of the
pam_account_locked_message option</li>
<li>AD: Recognize Windows Server 2016</li>
<li>memberof: Fix a memory leak when removing ghost users</li>
<li>memberof: Don&#8217;t allocate on NULL when deleting memberUids</li>
<li>tests: Check NULL context in sysdb-tests when removing group members</li>
<li>Updating translations for the 1.13.4 release</li>
</ul>
<p>Lukas Slebodnik (33):</p>
<ul class="simple">
<li>SPEC: Change package ownership of %{pubconfpath}/krb5.include.d</li>
<li>CONFIGURE: Replace obsoleted macro AC_PROG_LIBTOOL</li>
<li>TESTS: Fix race condition in python test</li>
<li>PYTHON: sss_obfuscate should work with python3</li>
<li>PYTHON: Fix pep8 errors in sss_obfuscate</li>
<li>UTIL: Backport error code ERR_ACCOUNT_LOCKED</li>
<li>sss_idmap-tests: Fix segmentation fault</li>
<li>krb5_child: Warn if user cannot read krb5.conf</li>
<li>Fix typos reported by lintian</li>
<li>UTIL: Use prefix for debug function</li>
<li>UTIL: Provide varargs version of debug_fn</li>
<li>UTIL: Use sss_vdebug_fn for callbacks</li>
<li>Revert &#8220;DEBUG: Preventing chown_debug_file if journald on&#8221;</li>
<li>DEBUG: Ignore ENOENT for change owner of log files</li>
<li>TOOLS: Fix minor memory leak in sss_colondb_writeline</li>
<li>CI: Use yum-deprecated instead of dnf</li>
<li>FAIL_OVER: Fix warning value computed is not used</li>
<li>UTIL: Fix indentation in dlinklist.h</li>
<li>UTIL: Fix warning misleading-indentation</li>
<li>CLIENT: Reduce code duplication</li>
<li>CLIENT: Retry request after EPIPE</li>
<li>UTIL: Move debug part from util.h -&gt; new debug.h</li>
<li>UTIL: Allow to append new line in sss_vdebug_fn</li>
<li>AUTOMAKE: Force usage of parallel test harness</li>
<li>CI: Use make check instead of make-check-wrap</li>
<li>test_ipa_subdom_server: Workaround for slow krb5 + SELinux</li>
<li>SPEC: Run extra unit tests with epel</li>
<li>GPO: Soften umask in gpo_child</li>
<li>GPO_CHILD: Create directories in gpo_cache with right permissions</li>
<li>GPO: Process GPOS in offline mode if ldap search failed</li>
<li>IPA: Check RDN in ipa_add_ad_memberships_get_next</li>
<li>dp_ptask: Fix memory leak in synchronous ptask</li>
<li>test_be_ptask: Check leaks in tests</li>
</ul>
<p>Michal Židek (6):</p>
<ul class="simple">
<li>NSS: do not skip cache check for netgoups</li>
<li>util: Continue if setlocale fails</li>
<li>server_setup: Log failed attempt to set locale</li>
<li>tests: Run intgcheck without libsemanage</li>
<li>tests: Regression test with wrong LC_ALL</li>
<li>GPO: log specific ini parse error messages</li>
</ul>
<p>Pavel Březina (37):</p>
<ul class="simple">
<li>AD SRV: prefer site-local DCs in LDAP ping</li>
<li>SDAP: do not fail if refs are found but not processed</li>
<li>SDAP: Add request that iterates over all search bases</li>
<li>SDAP: rename sdap_get_id_specific_filter</li>
<li>SDAP: support empty filters in sdap_combine_filters()</li>
<li>SUDO: use sdap_search_bases instead custom sb iterator</li>
<li>SUDO: make sudo sysdb interface more reusable</li>
<li>SUDO: move code shared between ldap and ipa to separate module</li>
<li>SUDO: allow to disable ptask</li>
<li>SUDO: fail on failed request that cannot be retry</li>
<li>IPA: add ipa_get_rdn and ipa_check_rdn</li>
<li>SDAP: use ipa_get_rdn() in nested groups</li>
<li>IPA SUDO: choose between IPA and LDAP schema</li>
<li>IPA SUDO: Add ipasudorule mapping</li>
<li>IPA SUDO: Add ipasudocmdgrp mapping</li>
<li>IPA SUDO: Add ipasudocmd mapping</li>
<li>IPA SUDO: Implement sudo handler</li>
<li>IPA SUDO: Implement full refresh</li>
<li>IPA SUDO: Implement rules refresh</li>
<li>IPA SUDO: Remember USN</li>
<li>SDAP: Add sdap_or_filters</li>
<li>IPA SUDO: Implement smart refresh</li>
<li>SUDO: sdap_sudo_set_usn() do not steal usn</li>
<li>SUDO: remove full_refresh_in_progress</li>
<li>SUDO: assume zero if usn is unknown</li>
<li>SUDO: allow disabling full refresh</li>
<li>SUDO: remember usn as number instead of string</li>
<li>SUDO: simplify usn filter</li>
<li>IPA SUDO: Add support for ipaSudoRunAsExt* attributes</li>
<li>sdap_connect_send: fail if uri or sockaddr is NULL</li>
<li>cache_req: simplify cache_req_cache_check()</li>
<li>cache_req: do not lookup views if possible</li>
<li>remove user certificate if not found on the server</li>
<li>IPA SUDO: download externalUser attribute</li>
<li>IPA SUDO: fix typo</li>
<li>IPA SUDO: support old ipasudocmd rdn</li>
<li>SUDO: be able to parse modifyTimestamp correctly</li>
</ul>
<p>Pavel Reichl (11):</p>
<ul class="simple">
<li>sudo: remove unused param name in sdap_sudo_get_usn()</li>
<li>sudo: remove unused param. in ldap_get_sudo_options</li>
<li>IDMAP: Fix computing max id for slice range</li>
<li>IDMAP: New structure for domain range params</li>
<li>IDMAP: Add support for automatic adding of ranges</li>
<li>IDMAP: Fix minor memory leak</li>
<li>IDMAP: Man change for ldap_idmap_range_size option</li>
<li>NSS: Fix memory leak netgroup</li>
<li>IDMAP: Add test to validate off by one bug</li>
<li>SDAP: Add return code ERR_ACCOUNT_LOCKED</li>
<li>PAM: Pass account lockout status and display message</li>
</ul>
<p>Petr Cech (6):</p>
<ul class="simple">
<li>KRB5: Adding DNS SRV lookup for krb5 provider</li>
<li>TOOLS: Fix memory leak after getline() failed</li>
<li>TOOLS: Add comments on functions in colondb</li>
<li>TEST_TOOLS_COLONDB: Add tests for sss_colondb_*</li>
<li>REFACTOR: umask(077) &#8211;&gt; umask(SSS_DFL_X_UMASK)</li>
<li>REFACTOR: umask(0177) &#8211;&gt; umask(SSS_DFL_UMASK)</li>
</ul>
<p>Stephen Gallagher (2):</p>
<ul class="simple">
<li>GPO: Add Cockpit to the Remote Interactive defaults</li>
<li>GPO: Add other display managers to interactive logon</li>
</ul>
<p>Sumit Bose (20):</p>
<ul class="simple">
<li>nfs idmap: fix infinite loop</li>
<li>Use right domain for user lookups</li>
<li>sdap_save_grpmem: determine domain by SID if possible</li>
<li>ipa_s2n_save_objects(): use configured user and group timeout</li>
<li>ldap: remove originalMeberOf if there is no memberOf</li>
<li>UTIL: allow to skip default options for child processes</li>
<li>DP_TASK: add be_ptask_get_timeout()</li>
<li>AD: add task to renew the machine account password if needed</li>
<li>FO: add fo_get_active_server()</li>
<li>FO: add be_fo_get_active_server_name()</li>
<li>AD: try to use current server in the renewal task</li>
<li>p11: add gnome-screensaver to list of allowed services</li>
<li>IPA: lookup idview name even if there is no master domain record</li>
<li>IPA: invalidate override data if original view is missing</li>
<li>sdap: improve filtering of multiple results in GC lookups</li>
<li>pam_sss: reorder pam_message array</li>
<li>sss_override: do not generate DN, search object</li>
<li>tools: read additional data of the master domain</li>
<li>sss_override: only add domain if name is not fully qualified</li>
<li>intg: local override for user with mixed case name</li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Highlights</a></li>
<li><a class="reference internal" href="#packaging-changes">Packaging Changes</a></li>
<li><a class="reference internal" href="#documentation-changes">Documentation Changes</a></li>
<li><a class="reference internal" href="#tickets-fixed">Tickets Fixed</a></li>
<li><a class="reference internal" href="#detailed-changelog">Detailed Changelog</a></li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/Releases/Notes-1.13.4.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Red Hat.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
      |
      <a href="../_sources/Releases/Notes-1.13.4.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>