<html><head><link rel="stylesheet" href="/sssd-test2/trac.css" type="text/css" /><link rel="stylesheet" href="/sssd-test2/wiki.css" type="text/css" /></head><body><p>
</p><div class="wiki-toc">
<ol>
  <li>
    <a href="#classSSSDConfig">class SSSDConfig</a>
    <ol>
      <li>
        <a href="#__init__schemafileschemaplugindir"><tt>__init__([schemafile, schemaplugindir])</tt></a>
        <ol>
          <li>
            <a href="#InternalImplementationNotes">Internal Implementation Notes</a>
          </li>
          <li>
            <a href="#Returns">Returns</a>
          </li>
          <li>
            <a href="#Errors">Errors</a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#import_configconfigfile"><tt>import_config([configfile])</tt></a>
        <ol>
          <li>
            <a href="#Returns1">Returns</a>
          </li>
          <li>
            <a href="#Errors1">Errors</a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#new_config"><tt>new_config()</tt></a>
        <ol>
          <li>
            <a href="#Returns2">Returns</a>
          </li>
          <li>
            <a href="#Errors2">Errors</a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#writeoutputfile"><tt>write([outputfile]</tt></a>
        <ol>
          <li>
            <a href="#Returns3">Returns</a>
          </li>
          <li>
            <a href="#Errors3">Errors</a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#list_services"><tt>list_services()</tt></a>
        <ol>
          <li>
            <a href="#Returns4">Returns</a>
          </li>
          <li>
            <a href="#Errors4">Errors</a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#get_servicename"><tt>get_service(name)</tt></a>
        <ol>
          <li>
            <a href="#Returns5">Returns</a>
          </li>
          <li>
            <a href="#Errors5">Errors</a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#new_servicename"><tt>new_service(name)</tt></a>
        <ol>
          <li>
            <a href="#Returns6">Returns</a>
          </li>
          <li>
            <a href="#Errors6">Errors</a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#delete_servicename"><tt>delete_service(name)</tt></a>
        <ol>
          <li>
            <a href="#Returns7">Returns</a>
          </li>
          <li>
            <a href="#Errors7">Errors</a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#save_serviceSSSDServiceservice_object">save_service(SSSDService â€¦</a>
        <ol>
          <li>
            <a href="#Returns8">Returns</a>
          </li>
          <li>
            <a href="#Errors8">Errors</a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#list_active_domains"><tt>list_active_domains()</tt></a>
        <ol>
          <li>
            <a href="#Returns9">Returns</a>
          </li>
          <li>
            <a href="#Errors9">Errors</a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#list_inactive_domains"><tt>list_inactive_domains()</tt></a>
        <ol>
          <li>
            <a href="#Returns10">Returns</a>
          </li>
          <li>
            <a href="#Errors10">Errors</a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#list_domains"><tt>list_domains()</tt></a>
        <ol>
          <li>
            <a href="#Returns11">Returns</a>
          </li>
          <li>
            <a href="#Errors11">Errors</a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#get_domainname"><tt>get_domain(name)</tt></a>
        <ol>
          <li>
            <a href="#Returns12">Returns</a>
          </li>
          <li>
            <a href="#Errors12">Errors</a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#new_domainname"><tt>new_domain(name)</tt></a>
        <ol>
          <li>
            <a href="#Returns13">Returns</a>
          </li>
          <li>
            <a href="#Errors13">Errors</a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#delete_domainname"><tt>delete_domain(name)</tt></a>
        <ol>
          <li>
            <a href="#Returns14">Returns</a>
          </li>
          <li>
            <a href="#Errors14">Errors</a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#save_domainSSSDDomaindomain_object"><tt>save_domain(SSSDDomain domain_object)</tt></a>
        <ol>
          <li>
            <a href="#Returns15">Returns</a>
          </li>
          <li>
            <a href="#Errors15">Errors</a>
          </li>
        </ol>
      </li>
    </ol>
  </li>
</ol>
</div><p>
</p>
<h1 id="classSSSDConfig">class SSSDConfig</h1>
<h2 id="__init__schemafileschemaplugindir"><tt>__init__([schemafile, schemaplugindir])</tt></h2>
<p>
<em>Initialize the SSSD config parser/editor. This constructor does not open or create a config file. If the schemafile and schemaplugindir are not passed, it will use the system defaults.</em>
<dl class="wiki"><dt><strong>schemafile</strong></dt><dd>
The path to the api schema config file. Usually /etc/sssd/sssd.api.conf
</dd><dt><strong>schemaplugindir</strong></dt><dd>
The path the directory containing the provider schema config files. Usually /etc/sssd/sssd.api.d
</p>
</dd></dl>
<h3 id="InternalImplementationNotes">Internal Implementation Notes</h3>
<p>
This function will create a <a class="missing wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfigSchema.html" rel="nofollow">SSSDConfigSchema?</a> object internally that will be passed to <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDService.html">SSSDService</a> and <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDDomain.html">SSSDDomain</a> objects when they are created or requested.
</p>
<h3 id="Returns">Returns</h3>
<p>
The newly-created SSSDConfig object.
</p>
<h3 id="Errors">Errors</h3>
<dl class="wiki"><dt><strong>IOError</strong></dt><dd>
Exception raised when the schema file could not be opened for reading. Note: provider schema files in the schemaplugindir that cannot be read will be ignored.
</dd><dt><strong>ParsingError</strong></dt><dd>
The main schema file or one of those in the plugin directory could not be parsed. 
</dd></dl>
<p>
<br /><br />
</p>
<h2 id="import_configconfigfile"><tt>import_config([configfile])</tt></h2>
<p>
<em>Read in a config file, populating all of the service and domain objects with the read values.</em>
<dl class="wiki"><dt><strong>configfile</strong></dt><dd>
The path to the SSSD config file. If not specified, use the system default, usually /etc/sssd/sssd.conf
</p>
</dd></dl>
<h3 id="Returns1">Returns</h3>
<p>
No return value
</p>
<h3 id="Errors1">Errors</h3>
<dl class="wiki"><dt><strong>IOError</strong></dt><dd>
Exception raised when the file could not be opened for reading
</dd><dt><strong>ParsingError</strong></dt><dd>
Exception raised when errors occur attempting to parse a file.
</dd><dt><strong>AlreadyInitializedError</strong></dt><dd>
This SSSDConfig object was already initialized by a call to <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#import_configconfigfile">import_config()</a> or <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#new_config">new_config()</a>
</dd></dl>
<p>
<br /><br />
</p>
<h2 id="new_config"><tt>new_config()</tt></h2>
<p>
<em>Initialize the SSSDConfig object with the defaults from the schema.</em>
</p>
<h3 id="Returns2">Returns</h3>
<p>
No return value
</p>
<h3 id="Errors2">Errors</h3>
<dl class="wiki"><dt><strong>AlreadyInitializedError</strong></dt><dd>
This SSSDConfig object was already initialized by a call to <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#import_configconfigfile">import_config()</a> or <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#new_config">new_config()</a>
</dd></dl>
<p>
<br /><br />
</p>
<h2 id="writeoutputfile"><tt>write([outputfile]</tt></h2>
<p>
<em>Write out the configuration to a file.</em>
<dl class="wiki"><dt><strong>outputfile</strong></dt><dd>
The path to write the new config file. If it is not specified, it will use the path specified by the import() call.
</p>
</dd></dl>
<h3 id="Returns3">Returns</h3>
<p>
No return value
</p>
<h3 id="Errors3">Errors</h3>
<dl class="wiki"><dt><strong>IOError</strong></dt><dd>
Exception raised when the file could not be opened for writing
</dd><dt><strong>NotInitializedError</strong></dt><dd>
This SSSDConfig object has not had <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#import_configconfigfile">import_config()</a> or <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#new_config">new_config()</a> run on it yet.
</dd><dt><strong>NoOutputFileError</strong></dt><dd>
No outputfile was specified and this SSSDConfig object was not initialized by import()
</dd></dl>
<p>
<br /><br />
</p>
<h2 id="list_services"><tt>list_services()</tt></h2>
<p>
<em>Retrieve a list of known services.</em>
</p>
<h3 id="Returns4">Returns</h3>
<p>
The list of known services.
</p>
<h3 id="Errors4">Errors</h3>
<dl class="wiki"><dt><strong>NotInitializedError</strong></dt><dd>
This SSSDConfig object has not had <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#import_configconfigfile">import_config()</a> or <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#new_config">new_config()</a> run on it yet.
</dd></dl>
<p>
<br /><br />
</p>
<h2 id="get_servicename"><tt>get_service(name)</tt></h2>
<p>
<em>Get an <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDService.html">SSSDService</a> object to edit a service.</em>
<dl class="wiki"><dt><strong>name</strong></dt><dd>
The name of the service to return.
</p>
</dd></dl>
<h3 id="Returns5">Returns</h3>
<p>
An <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDService.html">SSSDService</a> instance containing the current state of a service in the SSSDConfig
</p>
<h3 id="Errors5">Errors</h3>
<dl class="wiki"><dt><strong>NoServiceError<em></em></strong></dt><dd>
There is no such service with the specified name in the SSSDConfig.
</dd><dt><strong>NotInitializedError</strong></dt><dd>
This SSSDConfig object has not had <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#import_configconfigfile">import_config()</a> or <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#new_config">new_config()</a> run on it yet.
</dd></dl>
<p>
<br /><br />
</p>
<h2 id="new_servicename"><tt>new_service(name)</tt></h2>
<p>
<em>Create a new service from the defaults and return the <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDService.html">SSSDService</a> object for it. This function will also add this service to the list of active services in the [SSSD] section.</em>
<dl class="wiki"><dt><strong>name</strong></dt><dd>
The name of the service to create and return.
</p>
</dd></dl>
<h3 id="Returns6">Returns</h3>
<p>
The newly-created <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDService.html">SSSDService</a> object
</p>
<h3 id="Errors6">Errors</h3>
<dl class="wiki"><dt><strong>ServiceNotRecognizedError</strong></dt><dd>
There is no such service in the schema.
</dd><dt><strong>ServiceAlreadyExistsError</strong></dt><dd>
The service being created already exists in the SSSDConfig object.
</dd><dt><strong>NotInitializedError</strong></dt><dd>
This SSSDConfig object has not had <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#import_configconfigfile">import_config()</a> or <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#new_config">new_config()</a> run on it yet.
</dd></dl>
<p>
<br /><br />
</p>
<h2 id="delete_servicename"><tt>delete_service(name)</tt></h2>
<p>
<em>Remove a service from the SSSDConfig object. This function will also remove this service from the list of active services in the [SSSD] section. Has no effect if the service does not exist.</em>
</p>
<h3 id="Returns7">Returns</h3>
<p>
No return value
</p>
<h3 id="Errors7">Errors</h3>
<dl class="wiki"><dt><strong>NotInitializedError</strong></dt><dd>
This SSSDConfig object has not had <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#import_configconfigfile">import_config()</a> or <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#new_config">new_config()</a> run on it yet.
</dd></dl>
<p>
<br /><br />
</p>
<h2 id="save_serviceSSSDServiceservice_object">save_service(<a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDService.html">SSSDService</a> service_object)</h2>
<p>
<em>Save the changes made to the service object back to the SSSDConfig object.</em>
<dl class="wiki"><dt><strong>service_object</strong></dt><dd>
The <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDService.html">SSSDService</a> object to save to the configuration.
</p>
</dd></dl>
<h3 id="Returns8">Returns</h3>
<p>
No return value
</p>
<h3 id="Errors8">Errors</h3>
<dl class="wiki"><dt><strong>NotInitializedError</strong></dt><dd>
This SSSDConfig object has not had <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#import_configconfigfile">import_config()</a> or <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#new_config">new_config()</a> run on it yet.
</dd><dt><strong>TypeError</strong></dt><dd>
<tt>service_object</tt> was not of the type SSSDService
</dd></dl>
<p>
<br /><br />
</p>
<h2 id="list_active_domains"><tt>list_active_domains()</tt></h2>
<p>
<em>Return a list of all active domains.</em>
</p>
<h3 id="Returns9">Returns</h3>
<p>
The list of configured, active domains.
</p>
<h3 id="Errors9">Errors</h3>
<dl class="wiki"><dt><strong>NotInitializedError</strong></dt><dd>
This SSSDConfig object has not had <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#import_configconfigfile">import_config()</a> or <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#new_config">new_config()</a> run on it yet.
</dd></dl>
<p>
<br /><br />
</p>
<h2 id="list_inactive_domains"><tt>list_inactive_domains()</tt></h2>
<p>
<em>Return a list of all configured, but disabled domains.</em>
</p>
<h3 id="Returns10">Returns</h3>
<p>
The list of configured, inactive domains.
</p>
<h3 id="Errors10">Errors</h3>
<dl class="wiki"><dt><strong>NotInitializedError</strong></dt><dd>
This SSSDConfig object has not had <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#import_configconfigfile">import_config()</a> or <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#new_config">new_config()</a> run on it yet.
</dd></dl>
<p>
<br /><br />
</p>
<h2 id="list_domains"><tt>list_domains()</tt></h2>
<p>
<em>Return a list of all configured domains, including inactive domains.</em>
</p>
<h3 id="Returns11">Returns</h3>
<p>
The list of configured domains, both active and inactive.
</p>
<h3 id="Errors11">Errors</h3>
<dl class="wiki"><dt><strong>NotInitializedError</strong></dt><dd>
This SSSDConfig object has not had <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#import_configconfigfile">import_config()</a> or <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#new_config">new_config()</a> run on it yet.
</dd></dl>
<p>
<br /><br />
</p>
<h2 id="get_domainname"><tt>get_domain(name)</tt></h2>
<p>
<em>Get an <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDDomain.html">SSSDDomain</a> object to edit a domain.</em>
<dl class="wiki"><dt><strong>name</strong></dt><dd>
The name of the domain to return.
</p>
</dd></dl>
<h3 id="Returns12">Returns</h3>
<p>
An <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDDomain.html">SSSDDomain</a> instance containing the current state of a domain in the SSSDConfig
</p>
<h3 id="Errors12">Errors</h3>
<dl class="wiki"><dt><strong>NoDomainError<em></em></strong></dt><dd>
There is no such domain with the specified name in the SSSDConfig.
</dd><dt><strong>NotInitializedError</strong></dt><dd>
This SSSDConfig object has not had <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#import_configconfigfile">import_config()</a> or <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#new_config">new_config()</a> run on it yet.
</dd></dl>
<p>
<br /><br />
</p>
<h2 id="new_domainname"><tt>new_domain(name)</tt></h2>
<p>
<em>Create a new, empty domain and return the <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDDomain.html">SSSDDomain</a> object for it.</em>
<dl class="wiki"><dt><strong>name</strong></dt><dd>
The name of the domain to create and return.
</p>
</dd></dl>
<h3 id="Returns13">Returns</h3>
<p>
The newly-created <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDDomain.html">SSSDDomain</a> object
</p>
<h3 id="Errors13">Errors</h3>
<dl class="wiki"><dt><strong>DomainAlreadyExistsError</strong></dt><dd>
The service being created already exists in the SSSDConfig object.
</dd><dt><strong>NotInitializedError</strong></dt><dd>
This SSSDConfig object has not had <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#import_configconfigfile">import_config()</a> or <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#new_config">new_config()</a> run on it yet.
</dd></dl>
<p>
<br /><br />
</p>
<h2 id="delete_domainname"><tt>delete_domain(name)</tt></h2>
<p>
<em>Remove a domain from the SSSDConfig object. This function will also remove this domain from the list of active domains in the [SSSD] section, if it is there.</em>
</p>
<h3 id="Returns14">Returns</h3>
<p>
No return value
</p>
<h3 id="Errors14">Errors</h3>
<dl class="wiki"><dt><strong>NotInitializedError</strong></dt><dd>
This SSSDConfig object has not had <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#import_configconfigfile">import_config()</a> or <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#new_config">new_config()</a> run on it yet.
</dd></dl>
<p>
<br /><br />
</p>
<h2 id="save_domainSSSDDomaindomain_object"><tt>save_domain(SSSDDomain domain_object)</tt></h2>
<p>
<em>Save the changes made to the domain object back to the SSSDConfig object. If this domain is marked active, ensure it is present in the active domain list in the [SSSD] section</em>
<dl class="wiki"><dt><strong>domain_object</strong></dt><dd>
The <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDDomain.html">SSSDDomain</a> object to save to the configuration.
</p>
</dd></dl>
<h3 id="Returns15">Returns</h3>
<p>
No return value
</p>
<h3 id="Errors15">Errors</h3>
<dl class="wiki"><dt><strong>NotInitializedError</strong></dt><dd>
This SSSDConfig object has not had <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#import_configconfigfile">import_config()</a> or <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html#new_config">new_config()</a> run on it yet.
</dd><dt><strong>TypeError</strong></dt><dd>
<tt>domain_object</tt> was not of type <a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDDomain.html">SSSDDomain</a>
</dd></dl>
<p>
<br /><br />
</p>
</body></html>