<html><head><link rel="stylesheet" href="/sssd-test2/trac.css" type="text/css" /><link rel="stylesheet" href="/sssd-test2/wiki.css" type="text/css" /></head><body><p>
</p><div class="wiki-toc">
<ol>
  <li>
    <a href="#Classes">Classes</a>
    <ol>
      <li>
        <a href="#ExceptionClasses">Exception Classes</a>
      </li>
    </ol>
  </li>
  <li>
    <a href="#UsageExamples">Usage Examples</a>
    <ol>
      <li>
        <a href="#Modifyasingleoptionforadomain">Modify a single option for a domain</a>
      </li>
      <li>
        <a href="#AddanewIDdomainandmakeitactive">Add a new ID domain and make it active</a>
      </li>
    </ol>
  </li>
</ol>
</div><p>
</p>
<h1 id="Classes">Classes</h1>
<ul><li><a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfig.html">SSSDConfig</a>
</li><li><a class="missing wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDConfigSchema.html" rel="nofollow">SSSDConfigSchema?</a>
</li><li><a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDDomain.html">SSSDDomain</a>
</li><li><a class="wiki" href="https://docs.pagure.org/sssd-test2/SSSDPythonConfigApi/SSSDService.html">SSSDService</a>
</li></ul><h2 id="ExceptionClasses">Exception Classes</h2>
<ul><li>SSSDConfigException
<ul><li>NotInitializedError
</li><li>AlreadyInitializedError
</li><li>NoOutputFileError
</li><li>NoServiceError
</li><li>ServiceNotRecognizedError
</li><li>ServiceAlreadyExistsError
</li><li>NoDomainError
</li><li>DomainAlreadyExistsError
</li></ul></li></ul><h1 id="UsageExamples">Usage Examples</h1>
<h2 id="Modifyasingleoptionforadomain">Modify a single option for a domain</h2>
<p>
We want to switch the enumerate option for our LDAP domain to false.
</p>
<pre class="wiki">from SSSDConfig import SSSDConfig

sssdconfig = SSSDConfig()
sssdconfig.import_config('/etc/sssd/sssd.conf')

ldap_domain = sssdconfig.get_domain('LDAP')
ldap_domain.set_option('enumerate', false)
sssdconfig.save_domain(ldap_domain)

sssdconfig.write()
</pre><h2 id="AddanewIDdomainandmakeitactive">Add a new ID domain and make it active</h2>
<pre class="wiki">from SSSDConfig import SSSDConfig

sssdconfig = SSSDConfig()
sssdconfig.import_config('/etc/sssd/sssd.conf')

ldap_domain = sssdconfig.new_domain('LDAP')
ldap_domain.add_provider('ldap', 'id')
ldap_domain.set_option('ldap_uri', 'ldap://ldap.example.com')
ldap_domain.set_option('ldap_user_search_base', 'cn=users,cn=Accounts,dc=example,dc=com')
ldap_domain.set_option('ldap_group_search_base', 'cn=groups,cn=Accounts,dc=example,dc=com')
ldap_domain.set_option('enumerate', true)
ldap_domain.set_active(true)

sssdconfig.save_domain(ldap_domain)
sssdconfig.write()
</pre></body></html>