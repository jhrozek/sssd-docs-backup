<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Highlights &#8212; sssd 1.15.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.15.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="highlights">
<h1>Highlights<a class="headerlink" href="#highlights" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>This release focused mainly on fixing regressions compared to the 1.8
series and bugfixes for features introduced in the 1.9 release cycle.
The release also includes two security fixes</li>
<li>A security bug assigned CVE-2013-0219 was fixed - TOCTOU race
conditions when creating or removing home directories for users in
local domain</li>
<li>A security bug assigned CVE-2013-0220 was fixed - out-of-bounds reads
in autofs and ssh responder</li>
<li>The sssd_pam responder processes pending requests after reconnect</li>
<li>A serious memory leak in the NSS responder was fixed</li>
<li>Requests that were processing group entries with DNs pointing out of
any configured search bases were not terminated correctly, causing
long timeouts</li>
<li>Kerberos tickets are correctly renewed even after SSSD daemon restart</li>
<li>The autofs LDAP provider correctly updates entries that changed mount
options on the LDAP server</li>
<li>Secondary groups are now reported correctly for a user coming from a
trusted Active Directory server</li>
<li>Kerberos principal selection was fixed to behave correctly when
accessing an Active Directory server</li>
<li>Multiple fixes related to SUDO integration, in particular fixing
functionality when the sssd back end process was changing its
online/offline status</li>
<li>The pwd_exp_warning option was fixed to function as documented in
the manual page</li>
</ul>
</div>
<div class="section" id="tickets-fixed">
<h1>Tickets Fixed<a class="headerlink" href="#tickets-fixed" title="Permalink to this headline">¶</a></h1>
<div><dl class="docutils">
<dt><a class="reference external" href="/sssd/ticket/1564">#1564</a></dt>
<dd>pam_sss(crond:account): Request to sssd failed. Timer expired</dd>
<dt><a class="reference external" href="/sssd/ticket/1592">#1592</a></dt>
<dd>always reread the master map from LDAP</dd>
<dt><a class="reference external" href="/sssd/ticket/1620">#1620</a></dt>
<dd>sss_cache: fqdn not accepted</dd>
<dt><a class="reference external" href="/sssd/ticket/1624">#1624</a></dt>
<dd>sudoUser group and netgroup specifications don&#8217;t work</dd>
<dt><a class="reference external" href="/sssd/ticket/1626">#1626</a></dt>
<dd>sssd caching not working as expected for selinux usermap contexts</dd>
<dt><a class="reference external" href="/sssd/ticket/1635">#1635</a></dt>
<dd>investigate the behaviour of ldap_sasl_authid in 1.9.x</dd>
<dt><a class="reference external" href="/sssd/ticket/1655">#1655</a></dt>
<dd>Login fails - sssd_be module polling fd indefinitely and gets
killed</dd>
<dt><a class="reference external" href="/sssd/ticket/1659">#1659</a></dt>
<dd>sss_userdel doesn&#8217;t remove entries from in-memory cache</dd>
<dt><a class="reference external" href="/sssd/ticket/1666">#1666</a></dt>
<dd>IPA Trust does not show secondary groups for AD Users for commands
like id and getent</dd>
<dt><a class="reference external" href="/sssd/ticket/1672">#1672</a></dt>
<dd>Error in PAC responder</dd>
<dt><a class="reference external" href="/sssd/ticket/1677">#1677</a></dt>
<dd>memberUid required for primary groups to match sudo rule</dd>
<dt><a class="reference external" href="/sssd/ticket/1679">#1679</a></dt>
<dd>Primary server status is not always reset after failover to backup
server happened</dd>
<dt><a class="reference external" href="/sssd/ticket/1680">#1680</a></dt>
<dd>krb5_kpasswd failover doesn&#8217;t work</dd>
<dt><a class="reference external" href="/sssd/ticket/1682">#1682</a></dt>
<dd>Offline sudo denies access with expired entry_cache_timeout</dd>
<dt><a class="reference external" href="/sssd/ticket/1685">#1685</a></dt>
<dd>Negative cache timeout is not working for proxy provider</dd>
<dt><a class="reference external" href="/sssd/ticket/1687">#1687</a></dt>
<dd>Disallow root SSH public key authentication</dd>
<dt><a class="reference external" href="/sssd/ticket/1689">#1689</a></dt>
<dd>sudo: if first full refresh fails, schedule another first full
refresh</dd>
<dt><a class="reference external" href="/sssd/ticket/1690">#1690</a></dt>
<dd>Option ldap_sudo_include_regexp named incorrectly</dd>
<dt><a class="reference external" href="/sssd/ticket/1694">#1694</a></dt>
<dd>Incorrect synchronization in mmap cache</dd>
<dt><a class="reference external" href="/sssd/ticket/1699">#1699</a></dt>
<dd>ldap_chpass_uri failover fails on using same hostname</dd>
<dt><a class="reference external" href="/sssd/ticket/1701">#1701</a></dt>
<dd>sudo denies access with disabled ldap_sudo_use_host_filter</dd>
<dt><a class="reference external" href="/sssd/ticket/1702">#1702</a></dt>
<dd>sssd_nss crashes during enumeration</dd>
<dt><a class="reference external" href="/sssd/ticket/1703">#1703</a></dt>
<dd>Wrong variable check in the memberof plugin</dd>
<dt><a class="reference external" href="/sssd/ticket/1704">#1704</a></dt>
<dd>Wrong error handler in sss_mc_create_file</dd>
<dt><a class="reference external" href="/sssd/ticket/1706">#1706</a></dt>
<dd>segfault in async_resolv.c</dd>
<dt><a class="reference external" href="/sssd/ticket/1708">#1708</a></dt>
<dd>sssd components seem to mishandle sighup</dd>
<dt><a class="reference external" href="/sssd/ticket/1710">#1710</a></dt>
<dd>man sssd-sudo has wrong title</dd>
<dt><a class="reference external" href="/sssd/ticket/1714">#1714</a></dt>
<dd>user id lookup fails for case sensitive users using proxy provider</dd>
<dt><a class="reference external" href="/sssd/ticket/1716">#1716</a></dt>
<dd>Make functions manipulating with mmap cache more defensive</dd>
<dt><a class="reference external" href="/sssd/ticket/1717">#1717</a></dt>
<dd>Limit requests coalescing in time</dd>
<dt><a class="reference external" href="/sssd/ticket/1722">#1722</a></dt>
<dd>crash in memory cache</dd>
<dt><a class="reference external" href="/sssd/ticket/1724">#1724</a></dt>
<dd>Explicit null dereferenced</dd>
<dt><a class="reference external" href="/sssd/ticket/1727">#1727</a></dt>
<dd>AD provider: getgrgid removes nested group memberships</dd>
<dt><a class="reference external" href="/sssd/ticket/1728">#1728</a></dt>
<dd>Failure in memberof can lead to failed database update</dd>
<dt><a class="reference external" href="/sssd/ticket/1730">#1730</a></dt>
<dd>MEmory leak in new memcache initgr cleanup function</dd>
<dt><a class="reference external" href="/sssd/ticket/1731">#1731</a></dt>
<dd>krb5 ticket renewal does not read the renewable tickets from cache</dd>
<dt><a class="reference external" href="/sssd/ticket/1732">#1732</a></dt>
<dd>clarify the disadvantages of enumeration in sssd.conf</dd>
<dt><a class="reference external" href="/sssd/ticket/1735">#1735</a></dt>
<dd>Failover to krb5_backup_kpasswd doesn&#8217;t work</dd>
<dt><a class="reference external" href="/sssd/ticket/1736">#1736</a></dt>
<dd>Smart refresh doesn&#8217;t notice &#8220;defaults&#8221; addition with OpenLDAP</dd>
<dt><a class="reference external" href="/sssd/ticket/1740">#1740</a></dt>
<dd>Incorrect principal searched for in keytab</dd>
<dt><a class="reference external" href="/sssd/ticket/1754">#1754</a></dt>
<dd>wrong filter for autofs maps in sss_cache</dd>
<dt><a class="reference external" href="/sssd/ticket/1757">#1757</a></dt>
<dd>memory cache is not updated after user is deleted from ldb cache</dd>
<dt><a class="reference external" href="/sssd/ticket/1758">#1758</a></dt>
<dd>sssd fails to update to changes on autofs maps</dd>
<dt><a class="reference external" href="/sssd/ticket/1760">#1760</a></dt>
<dd>Failover to ldap_chpass_backup_uri doesn&#8217;t work</dd>
<dt><a class="reference external" href="/sssd/ticket/1761">#1761</a></dt>
<dd>sssd_be crashes looking up members with groups outside the nesting
limit</dd>
<dt><a class="reference external" href="/sssd/ticket/1764">#1764</a></dt>
<dd>Modifications using sss_usermod tool are not reflected in memory
cache</dd>
<dt><a class="reference external" href="/sssd/ticket/1770">#1770</a></dt>
<dd>ipa-client-automount: autofs failed in s390x and ppc64 platform</dd>
<dt><a class="reference external" href="/sssd/ticket/1773">#1773</a></dt>
<dd>SSSD should warn when pam_pwd_expiration_warning value is higher
than passwordWarning LDAP attribute.</dd>
<dt><a class="reference external" href="/sssd/ticket/1775">#1775</a></dt>
<dd>local provider: All member users are not returned on looking up top
level parent group.</dd>
<dt><a class="reference external" href="/sssd/ticket/1779">#1779</a></dt>
<dd>Rule mismatch isn&#8217;t noticed before smart refresh on ppc64 and s390x</dd>
<dt><a class="reference external" href="/sssd/ticket/1781">#1781</a></dt>
<dd>sssd: Out-of-bounds read flaws in autofs and ssh services responders</dd>
<dt><a class="reference external" href="/sssd/ticket/1782">#1782</a></dt>
<dd>TOCTOU race conditions by copying and removing directory trees</dd>
<dt><a class="reference external" href="/sssd/ticket/1783">#1783</a></dt>
<dd>Group lookup fails and takes ~60s to return to shell if member dn is
incorrect</dd>
<dt><a class="reference external" href="/sssd/ticket/1787">#1787</a></dt>
<dd>reset the release in upstream spec before releasing 1.9.4</dd>
</dl>
</div></div>
<div class="section" id="detailed-changelog">
<h1>Detailed Changelog<a class="headerlink" href="#detailed-changelog" title="Permalink to this headline">¶</a></h1>
<p>Jakub Hrozek (47):</p>
<ul class="simple">
<li>Updating the version for the 1.9.4 release</li>
<li>SUDO: strdup the input variable</li>
<li>PAC: check the return value of diff_git_lists</li>
<li>SYSDB: Move misplaced assignment</li>
<li>LDAP: remove dead assignment</li>
<li>MEMBEROF: Fix copy-n-paste error</li>
<li>NSS: Fix the error handler in sss_mc_create_file</li>
<li>SYSDB: More debugging during the conversion to ghost users</li>
<li>MAN: Fix the title of sssd-sudo</li>
<li>MEMBEROF: silence compilation warnings</li>
<li>Set cloexec flag for log files</li>
<li>RESOLV: Do not steal the resulting hostent on error</li>
<li>SYSDB: fix copy-n-paste error</li>
<li>SYSDB: Add API to invalidate all map objects</li>
<li>DP: invalidate all cached maps if a request for auto.master comes in</li>
<li>AUTOFS: allow removing entries from hash table</li>
<li>AUTOFS: remove all maps from hash if request for auto.master comes in</li>
<li>RESPONDERS: Create a common file with service names and versions</li>
<li>AUTOFS: Clear enum cache if a request comes in from the sss_cache</li>
<li>Add responder_sbus.h to noinst_HEADERS</li>
<li>Free resources if fileno failed</li>
<li>Search for <a class="reference external" href="mailto:SHORTNAME$&#37;&#52;&#48;REALM">SHORTNAME$<span>&#64;</span>REALM</a> instead of <a class="reference external" href="mailto:fqdn$&#37;&#52;&#48;REALM">fqdn$<span>&#64;</span>REALM</a> by default</li>
<li>Potential resource leak in sss_nss_mc_get_record</li>
<li>SYSDB: Remove duplicate selinux defines</li>
<li>SYSDB: Split a function to read all SELinux maps</li>
<li>SELINUX: Process maps even when offline</li>
<li>IPA: Rename IPA_CONFIG_SELINUX_DEFAULT_MAP</li>
<li>AD: replace GID/UID, do not add another one</li>
<li>AD: Add user as a direct member of his primary group</li>
<li>TOOLS: move memcache related functions to tools_mc_utils.c</li>
<li>TOOLS: Split querying nss responder into a separate function</li>
<li>TOOLS: Provide a convenience function to refresh a list of groups</li>
<li>TOOLS: Refresh memcache after changes to local users and groups</li>
<li>LDAP: avoid complex realloc logic in
save_rfc2307bis_group_memberships</li>
<li>autofs: Use SAFEALIGN_SET_UINT32 instead of SAFEALIGN_COPY_UINT32</li>
<li>NSS: invalidate memcache user entry on initgr, too</li>
<li>Invalidate user entry even if there are no groups</li>
<li>LDAP: Compare lists of DNs when saving autofs entries</li>
<li>TOOLS: invalidate parent groups in memory cache, too</li>
<li>Convert the value of pwd_exp_warning to seconds</li>
<li>TOOLS: Use openat/unlinkat when removing the homedir</li>
<li>TOOLS: Use file descriptor to avoid races when creating a home
directory</li>
<li>SYSDB: make the sss_ldb_modify_permissive function public</li>
<li>SYSDB: Expire group if adding ghost users fails with EEXIST</li>
<li>MAN: Clarify that saving users after enumerating large domain might
be CPU intensive</li>
<li>TOOLS: Compile on old platforms such as RHEL5</li>
<li>Updating the translations for the 1.9.4 release</li>
</ul>
<p>Jan Cholasta (2):</p>
<ul class="simple">
<li>SSH: Reject requests for authorized keys of root</li>
<li>Check that strings do not go beyond the end of the packet body in
autofs and SSH requests.</li>
</ul>
<p>Michal Zidek (4):</p>
<ul class="simple">
<li>sssd_nss: Remove entries from memory cache if not found in sysdb</li>
<li>tools: sss_userdel and groupdel remove entries from memory cache</li>
<li>sss_cache: fqdn not accepted</li>
<li>sss_userdel and sss_groupdel with use_fully_qualified_names</li>
</ul>
<p>Ondrej Kos (4):</p>
<ul class="simple">
<li>PROXY: fix negative cache</li>
<li>PROXY: fix groups caching</li>
<li>LDAP: initialize refresh function handler</li>
<li>SYSDB: Modify ghosts in permissive mode</li>
</ul>
<p>Pavel Březina (22):</p>
<ul class="simple">
<li>sudo manpage: clarify that sudoHost may contain wildcards and not
regular expression</li>
<li>let krb5_kpasswd failover work</li>
<li>sudo: don&#8217;t get stuck in rules and smart refresh when offline</li>
<li>sysdb_get_sudo_user_info() initialize attrs on declaration</li>
<li>sudo: include primary group in user group list</li>
<li>sudo: support generalized time format</li>
<li>let ldap_chpass_uri failover work when using same hostname</li>
<li>try primary server after retry_timeout + 1 seconds when switching to
backup</li>
<li>add sdap_sudo_schedule_refresh()</li>
<li>check dp error in sdap_sudo_full_refresh_done()</li>
<li>sudo: schedule another full refresh in short interval if the first
fails</li>
<li>sudo: do full refresh when data provider is back online</li>
<li>let krb5_backup_kpasswd failover work</li>
<li>memcache: add macro that validates record length</li>
<li>explicit null dereferenced in sss_nss_mc_get_record()</li>
<li>memcache: make MC_PTR_TO_SLOT() more readable</li>
<li>sudo smart refresh: do not include usn in filter if no valid usn is
known</li>
<li>sudo smart refresh: fix debug message</li>
<li>let ldap_backup_chpass_uri work</li>
<li>fix backend callbacks: remove callback properly from dlist</li>
<li>sudo responder: change num_rules type from size_t to uint32_t</li>
<li>nested groups: fix group lookup hangs if member dn is incorrect</li>
</ul>
<p>Simo Sorce (12):</p>
<ul class="simple">
<li>Add a macro to copy with barriers</li>
<li>Allow mmap calls to gracefully return absent ctx</li>
<li>sssd_pam: Cleanup requests cache on sbus reconect</li>
<li>responder_dp: Add timeout to side requets</li>
<li>memberof: Prevent unneded failure case</li>
<li>sssd_nss: Plug memory leaks</li>
<li>nss_mc: Add extra checks when dereferencing records</li>
<li>Update free table when records are invalidated.</li>
<li>Carefully check records when forcibly invalidating</li>
<li>mmap cache: invalidate cache on fatal error</li>
<li>Remove unused header</li>
<li>Fix invalidating autofs maps</li>
</ul>
<p>Sumit Bose (18):</p>
<ul class="simple">
<li>select_principal_from_keytab() look for plain input as well</li>
<li>select_principal_from_keytab() do wildcard lookups after specific
ones</li>
<li>Fix a &#8216;shadows a global declaration&#8217; warning</li>
<li>Add default section to switch statement</li>
<li>krb5 tgt renewal: fix usage of ldb_dn_get_component_val()</li>
<li>Use struct pac_grp instead of gid_t for groups from PAC</li>
<li>Add find_domain_by_id()</li>
<li>IDMAP: add sss_idmap_smb_sid_to_unix()</li>
<li>Update domain ID for local domain as well</li>
<li>Always get user data from PAC</li>
<li>Save domain and GID for groups from the configured domain</li>
<li>Remote groups do not have an original DN attribute</li>
<li>Read remote groups from PAC</li>
<li>Translate LDB_ERR_ATTRIBUTE_OR_VALUE_EXISTS to EEXIST</li>
<li>Use hash table to collect GIDs from PAC to avoid dups</li>
<li>Add tests for get_gids_from_pac()</li>
<li>PAC responder: check if existing user differs</li>
<li>Refactor gid handling in the PAC responder</li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Highlights</a></li>
<li><a class="reference internal" href="#tickets-fixed">Tickets Fixed</a></li>
<li><a class="reference internal" href="#detailed-changelog">Detailed Changelog</a></li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/Releases/Notes-1.9.4.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Red Hat.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
      |
      <a href="../_sources/Releases/Notes-1.9.4.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>